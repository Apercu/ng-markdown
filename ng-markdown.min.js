var Markdown;Markdown="object"==typeof exports&&"function"==typeof require?exports:{},function(){function e(e){return e}function n(){return!1}function r(){}function t(){}r.prototype={chain:function(n,r){var t=this[n];if(!t)throw new Error("unknown hook "+n);this[n]=t===e?r:function(){var e=Array.prototype.slice.call(arguments,0);return e[0]=t.apply(null,e),r.apply(null,e)}},set:function(e,n){if(!this[e])throw new Error("unknown hook "+e);this[e]=n},addNoop:function(n){this[n]=e},addFalse:function(e){this[e]=n}},Markdown.HookCollection=r,t.prototype={set:function(e,n){this["s_"+e]=n},get:function(e){return this["s_"+e]}},Markdown.Converter=function(){function e(e){return e=e.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?(?=\s|$)[ \t]*\n?[ \t]*((\n*)["(](.+?)[")][ \t]*)?(?:\n+)/gm,function(e,n,r,t,a,o){return n=n.toLowerCase(),R.set(n,S(r)),a?t:(o&&D.set(n,o.replace(/"/g,"&quot;")),"")})}function n(e){return e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,a),e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,a),e=e.replace(/\n[ ]{0,3}((<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,a),e=e.replace(/\n\n[ ]{0,3}(<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>[ \t]*(?=\n{2,}))/g,a),e=e.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,a)}function a(e,n){var r=n;return r=r.replace(/^\n+/,""),r=r.replace(/\n+$/g,""),r="\n\n~K"+(W.push(r)-1)+"K\n\n"}function o(e,r){e=L.preBlockGamut(e,B),e=s(e);var t="<hr />\n";return e=e.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,t),e=e.replace(/^[ ]{0,2}([ ]?-[ ]?){3,}[ \t]*$/gm,t),e=e.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,t),e=h(e),e=d(e),e=k(e),e=L.postBlockGamut(e,B),e=n(e),e=C(e,r)}function c(e){return e=L.preSpanGamut(e),e=$(e),e=p(e),e=b(e),e=i(e),e=u(e),e=N(e),e=e.replace(/~P/g,"://"),e=S(e),e=_(e),e=e.replace(/  +\n/g," <br>\n"),e=L.postSpanGamut(e)}function p(e){var n=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>)/gi;return e=e.replace(n,function(e){var n=e.replace(/(.)<\/?code>(?=.)/g,"$1`");return n=K(n,"!"==e.charAt(1)?"\\`*_/":"\\`*_")})}function u(e){return e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,l),e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?((?:\([^)]*\)|[^()\s])*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,l),e=e.replace(/(\[([^\[\]]+)\])()()()()()/g,l)}function l(e,n,r,t,a,o,c,p){void 0==p&&(p="");var u=n,l=r.replace(/:\/\//g,"~P"),i=t.toLowerCase(),f=a,s=p;if(""==f)if(""==i&&(i=l.toLowerCase().replace(/ ?\n/g," ")),f="#"+i,void 0!=R.get(i))f=R.get(i),void 0!=D.get(i)&&(s=D.get(i));else{if(!(u.search(/\(\s*\)$/m)>-1))return u;f=""}f=G(f),f=K(f,"*_");var h='<a href="'+f+'"';return""!=s&&(s=g(s),s=K(s,"*_"),h+=' title="'+s+'"'),h+=">"+l+"</a>"}function i(e){return e=e.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,f),e=e.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,f)}function g(e){return e.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}function f(e,n,r,t,a,o,c,p){var u=n,l=r,i=t.toLowerCase(),f=a,s=p;if(s||(s=""),""==f){if(""==i&&(i=l.toLowerCase().replace(/ ?\n/g," ")),f="#"+i,void 0==R.get(i))return u;f=R.get(i),void 0!=D.get(i)&&(s=D.get(i))}l=K(g(l),"*_[]()"),f=K(f,"*_");var h='<img src="'+f+'" alt="'+l+'"';return s=g(s),s=K(s,"*_"),h+=' title="'+s+'"',h+=" />"}function s(e){return e=e.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(e,n){return"<h1>"+c(n)+"</h1>\n\n"}),e=e.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(e,n){return"<h2>"+c(n)+"</h2>\n\n"}),e=e.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(e,n,r){var t=n.length;return"<h"+t+">"+c(r)+"</h"+t+">\n\n"})}function h(e,n){e+="~0";var r=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return z?e=e.replace(r,function(e,r,t){var a=r,o=t.search(/[*+-]/g)>-1?"ul":"ol",c=v(a,o,n);return c=c.replace(/\s+$/,""),c="<"+o+">"+c+"</"+o+">\n"}):(r=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,e=e.replace(r,function(e,n,r,t){var a=n,o=r,c=t.search(/[*+-]/g)>-1?"ul":"ol",p=v(o,c);return p=a+"<"+c+">\n"+p+"</"+c+">\n"})),e=e.replace(/~0/,"")}function v(e,n,r){z++,e=e.replace(/\n{2,}$/,"\n"),e+="~0";var t=M[n],a=new RegExp("(^[ \\t]*)("+t+")[ \\t]+([^\\r]+?(\\n+))(?=(~0|\\1("+t+")[ \\t]+))","gm"),p=!1;return e=e.replace(a,function(e,n,t,a){var u=a,l=/\n\n$/.test(u),i=l||u.search(/\n{2,}/)>-1;return i||p?u=o(A(u),!0):(u=h(A(u),!0),u=u.replace(/\n$/,""),r||(u=c(u))),p=l,"<li>"+u+"</li>\n"}),e=e.replace(/~0/g,""),z--,e}function d(e){return e+="~0",e=e.replace(/(?:\n\n|^\n?)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(e,n,r){var t=n,a=r;return t=w(A(t)),t=y(t),t=t.replace(/^\n+/g,""),t=t.replace(/\n+$/g,""),t="<pre><code>"+t+"\n</code></pre>","\n\n"+t+"\n\n"+a}),e=e.replace(/~0/,"")}function m(e){return e=e.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(W.push(e)-1)+"K\n\n"}function $(e){return e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(e,n,r,t){var a=t;return a=a.replace(/^([ \t]*)/g,""),a=a.replace(/[ \t]*$/g,""),a=w(a),a=a.replace(/:\/\//g,"~P"),n+"<code>"+a+"</code>"})}function w(e){return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=K(e,"*_{}[]\\",!1)}function _(e){return e=e.replace(/([\W_]|^)(\*\*|__)(?=\S)([^\r]*?\S[\*_]*)\2([\W_]|$)/g,"$1<strong>$3</strong>$4"),e=e.replace(/([\W_]|^)(\*|_)(?=\S)([^\r\*_]*?\S)\2([\W_]|$)/g,"$1<em>$3</em>$4")}function k(e){return e=e.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(e,n){var r=n;return r=r.replace(/^[ \t]*>[ \t]?/gm,"~0"),r=r.replace(/~0/g,""),r=r.replace(/^[ \t]+$/gm,""),r=o(r),r=r.replace(/(^|\n)/g,"$1  "),r=r.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(e,n){var r=n;return r=r.replace(/^  /gm,"~0"),r=r.replace(/~0/g,"")}),m("<blockquote>\n"+r+"\n</blockquote>")})}function C(e,n){e=e.replace(/^\n+/g,""),e=e.replace(/\n+$/g,"");for(var r=e.split(/\n{2,}/g),t=[],a=/~K(\d+)K/,o=r.length,p=0;o>p;p++){var u=r[p];a.test(u)?t.push(u):/\S/.test(u)&&(u=c(u),u=u.replace(/^([ \t]*)/g,"<p>"),u+="</p>",t.push(u))}if(!n){o=t.length;for(var p=0;o>p;p++)for(var l=!0;l;)l=!1,t[p]=t[p].replace(/~K(\d+)K/g,function(e,n){return l=!0,W[n]})}return t.join("\n\n")}function S(e){return e=e.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),e=e.replace(/<(?![a-z\/?!]|~D)/gi,"&lt;")}function b(e){return e=e.replace(/\\(\\)/g,q),e=e.replace(/\\([`*_{}\[\]()>#+-.!])/g,q)}function E(e,n,r,t){if(n)return e;if(")"!==t.charAt(t.length-1))return"<"+r+t+">";for(var a=t.match(/[()]/g),o=0,c=0;c<a.length;c++)"("===a[c]?0>=o?o=1:o++:o--;var p="";if(0>o){var u=new RegExp("\\){1,"+-o+"}$");t=t.replace(u,function(e){return p=e,""})}if(p){var l=t.charAt(t.length-1);j.test(l)||(p=l+p,t=t.substr(0,t.length-1))}return"<"+r+t+">"+p}function N(e){e=e.replace(P,E);var n=function(e,n){return'<a href="'+n+'">'+L.plainLinkText(n)+"</a>"};return e=e.replace(/<((https?|ftp):[^'">\s]+)>/gi,n)}function x(e){return e=e.replace(/~E(\d+)E/g,function(e,n){var r=parseInt(n);return String.fromCharCode(r)})}function A(e){return e=e.replace(/^(\t|[ ]{1,4})/gm,"~0"),e=e.replace(/~0/g,"")}function y(e){if(!/\t/.test(e))return e;var n,r=["    ","   ","  "," "],t=0;return e.replace(/[\n\t]/g,function(e,a){return"\n"===e?(t=a+1,e):(n=(a-t)%4,t=a+1,r[n])})}function G(e){if(!e)return"";var n=e.length;return e.replace(F,function(r,t){return"~D"==r?"%24":":"!=r||t!=n-1&&!/[0-9\/]/.test(e.charAt(t+1))?"%"+r.charCodeAt(0).toString(16):":"})}function K(e,n,r){var t="(["+n.replace(/([\[\]\\])/g,"\\$1")+"])";r&&(t="\\\\"+t);var a=new RegExp(t,"g");return e=e.replace(a,q)}function q(e,n){var r=n.charCodeAt(0);return"~E"+r+"E"}var L=this.hooks=new r;L.addNoop("plainLinkText"),L.addNoop("preConversion"),L.addNoop("postNormalization"),L.addNoop("preBlockGamut"),L.addNoop("postBlockGamut"),L.addNoop("preSpanGamut"),L.addNoop("postSpanGamut"),L.addNoop("postConversion");var R,D,W,z;this.makeHtml=function(r){if(R)throw new Error("Recursive call to converter.makeHtml");return R=new t,D=new t,W=[],z=0,r=L.preConversion(r),r=r.replace(/~/g,"~T"),r=r.replace(/\$/g,"~D"),r=r.replace(/\r\n/g,"\n"),r=r.replace(/\r/g,"\n"),r="\n\n"+r+"\n\n",r=y(r),r=r.replace(/^[ \t]+$/gm,""),r=L.postNormalization(r),r=n(r),r=e(r),r=o(r),r=x(r),r=r.replace(/~D/g,"$$"),r=r.replace(/~T/g,"~"),r=L.postConversion(r),W=D=R=null,r};var B=function(e){return o(e)},M={ol:"\\d+[.]",ul:"[*+-]"},T="[-A-Z0-9+&@#/%?=~_|[\\]()!:,.;]",H="[-A-Z0-9+&@#/%=~_|[\\])]",P=new RegExp('(="|<)?\\b(https?|ftp)(://'+T+"*"+H+")(?=$|\\W)","gi"),j=new RegExp(H,"i"),F=/(?:["'*()[\]:]|~D)/g}}();
!function(){function e(){}function t(e,t){this.buttonBar=u.getElementsByClassName(t+"button-bar"+e)[0],this.preview=u.getElementsByClassName(t+"preview"+e)[0],this.input=u.getElementsByClassName(t+"input"+e)[0]}function n(e,t){var n,o,r,a=this,s=[],c=0,d="none",u=function(e,t){d!=e&&(d=e,t||p()),h.isIE&&"moving"==d?r=null:o=setTimeout(f,1)},f=function(e){r=new i(t,e),o=void 0};this.setCommandMode=function(){d="command",p(),o=setTimeout(f,0)},this.canUndo=function(){return c>1},this.canRedo=function(){return s[c+1]?!0:!1},this.undo=function(){a.canUndo()&&(n?(n.restore(),n=null):(s[c]=new i(t),s[--c].restore(),e&&e())),d="none",t.input.focus(),f()},this.redo=function(){a.canRedo()&&(s[++c].restore(),e&&e()),d="none",t.input.focus(),f()};var p=function(){var o=r||new i(t);return o?"moving"==d?void(n||(n=o)):(n&&(s[c-1].text!=n.text&&(s[c++]=n),n=null),s[c++]=o,s[c+1]=null,void(e&&e())):!1},g=function(e){var t=!1;if((e.ctrlKey||e.metaKey)&&!e.altKey){var n=e.charCode||e.keyCode,i=String.fromCharCode(n);switch(i.toLowerCase()){case"y":a.redo(),t=!0;break;case"z":e.shiftKey?a.redo():a.undo(),t=!0}}return t?(e.preventDefault&&e.preventDefault(),void(window.event&&(window.event.returnValue=!1))):void 0},m=function(e){if(!e.ctrlKey&&!e.metaKey){var t=e.keyCode;t>=33&&40>=t||t>=63232&&63235>=t?u("moving"):8==t||46==t||127==t?u("deleting"):13==t?u("newlines"):27==t?u("escape"):(16>t||t>20)&&91!=t&&u("typing")}},v=function(){l.addEvent(t.input,"keypress",function(e){!e.ctrlKey&&!e.metaKey||e.altKey||89!=e.keyCode&&90!=e.keyCode||e.preventDefault()});var e=function(){(h.isIE||r&&r.text!=t.input.value)&&void 0==o&&(d="paste",p(),f())};l.addEvent(t.input,"keydown",g),l.addEvent(t.input,"keydown",m),l.addEvent(t.input,"mousedown",function(){u("moving")}),t.input.onpaste=e,t.input.ondrop=e},b=function(){v(),f(!0),p()};b()}function i(t,n){var i=this,o=t.input;this.init=function(){l.isVisible(o)&&(n||!u.activeElement||u.activeElement===o)&&(this.setInputAreaSelectionStartEnd(),this.scrollTop=o.scrollTop,(!this.text&&o.selectionStart||0===o.selectionStart)&&(this.text=o.value))},this.setInputAreaSelection=function(){if(l.isVisible(o))if(void 0===o.selectionStart||h.isOpera){if(u.selection){if(u.activeElement&&u.activeElement!==o)return;o.focus();var e=o.createTextRange();e.moveStart("character",-o.value.length),e.moveEnd("character",-o.value.length),e.moveEnd("character",i.end),e.moveStart("character",i.start),e.select()}}else o.focus(),o.selectionStart=i.start,o.selectionEnd=i.end,o.scrollTop=i.scrollTop},this.setInputAreaSelectionStartEnd=function(){if(t.ieCachedRange||!o.selectionStart&&0!==o.selectionStart){if(u.selection){i.text=l.fixEolChars(o.value);var e=t.ieCachedRange||u.selection.createRange(),n=l.fixEolChars(e.text),r="",a=r+n+r;e.text=a;var s=l.fixEolChars(o.value);e.moveStart("character",-a.length),e.text=n,i.start=s.indexOf(r),i.end=s.lastIndexOf(r)-r.length;var c=i.text.length-l.fixEolChars(o.value).length;if(c){for(e.moveStart("character",-n.length);c--;)n+="\n",i.end+=1;e.text=n}t.ieCachedRange&&(i.scrollTop=t.ieCachedScrollTop),t.ieCachedRange=null,this.setInputAreaSelection()}}else i.start=o.selectionStart,i.end=o.selectionEnd},this.restore=function(){void 0!=i.text&&i.text!=o.value&&(o.value=i.text),this.setInputAreaSelection(),o.scrollTop=i.scrollTop},this.getChunks=function(){var t=new e;return t.before=l.fixEolChars(i.text.substring(0,i.start)),t.startTag="",t.selection=l.fixEolChars(i.text.substring(i.start,i.end)),t.endTag="",t.after=l.fixEolChars(i.text.substring(i.end)),t.scrollTop=i.scrollTop,t},this.setChunks=function(e){e.before=e.before+e.startTag,e.after=e.endTag+e.after,this.start=e.before.length,this.end=e.before.length+e.selection.length,this.text=e.before+e.selection+e.after,this.scrollTop=e.scrollTop},this.init()}function o(e,t,n){var i,o,r,a=3e3,s="delayed",d=function(e,t){l.addEvent(e,"input",t),e.onpaste=t,e.ondrop=t,l.addEvent(e,"keypress",t),l.addEvent(e,"keydown",t)},f=function(){var e=0;return window.innerHeight?e=window.pageYOffset:u.documentElement&&u.documentElement.scrollTop?e=u.documentElement.scrollTop:u.body&&(e=u.body.scrollTop),e},p=function(){if(t.preview){var n=t.input.value;if(!n||n!=r){r=n;var i=(new Date).getTime();n=e.makeHtml(n);var a=(new Date).getTime();o=a-i,C(n)}}},g=function(){if(i&&(clearTimeout(i),i=void 0),"manual"!==s){var e=0;"delayed"===s&&(e=o),e>a&&(e=a),i=setTimeout(p,e)}},m=function(e){return e.scrollHeight<=e.clientHeight?1:e.scrollTop/(e.scrollHeight-e.clientHeight)},v=function(){t.preview&&(t.preview.scrollTop=(t.preview.scrollHeight-t.preview.clientHeight)*m(t.preview))};this.refresh=function(e){e?(r="",p()):g()},this.processingTime=function(){return o};var b,T=!0,w=function(e){var n=t.preview,i=n.parentNode,o=n.nextSibling;i.removeChild(n),n.innerHTML=e,o?i.insertBefore(n,o):i.appendChild(n)},k=function(e){t.preview.innerHTML=e},y=function(e){if(b)return b(e);try{k(e),b=k}catch(t){b=w,b(e)}},C=function(e){var i=c.getTop(t.input)-f();if(t.preview&&(y(e),n()),v(),T)return void(T=!1);var o=c.getTop(t.input)-f();h.isIE?setTimeout(function(){window.scrollBy(0,o-i)},0):window.scrollBy(0,o-i)},E=function(){d(t.input,g),p(),t.preview&&(t.preview.scrollTop=0)};E()}function r(e,t,n,o,r,a,s,c){function d(e){if(b.focus(),e.textOp){o&&o.setCommandMode();var t=new i(n);if(!t)return;var a=t.getChunks(),s=function(){b.focus(),a&&t.setChunks(a),t.restore(),r.refresh()},l=e.textOp(a,s);l||s()}e.execute&&e.execute(o)}function f(e,t){var i="0px",o="-20px",r="-40px",a=e.getElementsByTagName("span")[0];t?(a.style.backgroundPosition=e.XShift+" "+i,e.onmouseover=function(){a.style.backgroundPosition=this.XShift+" "+r},e.onmouseout=function(){a.style.backgroundPosition=this.XShift+" "+i},h.isIE&&(e.onmousedown=function(){u.activeElement&&u.activeElement!==n.input||(n.ieCachedRange=document.selection.createRange(),n.ieCachedScrollTop=n.input.scrollTop)}),e.isHelp||(e.onclick=function(){return this.onmouseout&&this.onmouseout(),d(this),!1})):(a.style.backgroundPosition=e.XShift+" "+o,e.onmouseover=e.onmouseout=e.onclick=function(){})}function g(e){return"string"==typeof e&&(e=a[e]),function(){e.apply(a,arguments)}}function m(t){var i=n.buttonBar,o=document.createElement("div");o.className="btn-toolbar "+t+"button-row"+e,o=i.appendChild(o);var r=function(n,i,r,a){var s=document.createElement("i");s.className=t+"button",s.className+=" "+r;var l=document.createElement("span");return s.id=n+e,s.appendChild(l),s.title=i,a&&(s.textOp=a),f(s,!0),o.appendChild(s),s},a=function(){var e=document.createElement("i");e.className=t+"spacer",o.appendChild(e)};T.bold=r(t+"bold-button",c("bold"),"wmd-icon-bold",g("doBold")),T.italic=r(t+"italic-button",c("italic"),"wmd-icon-italic",g("doItalic")),a(1),T.link=r(t+"link-button",c("link"),"wmd-icon-link",g(function(e,t){return this.doLinkOrImage(e,t,!1)})),T.quote=r(t+"quote-button",c("quote"),"wmd-icon-quotes-left",g("doBlockquote")),T.code=r(t+"code-button",c("code"),"wmd-icon-code",g("doCode")),T.image=r(t+"image-button",c("image"),"wmd-icon-image",g(function(e,t){return this.doLinkOrImage(e,t,!0)})),a(2),T.olist=r(t+"olist-button",c("olist"),"wmd-icon-numbered-list",g(function(e,t){this.doList(e,t,!0)})),T.ulist=r(t+"ulist-button",c("ulist"),"wmd-icon-list",g(function(e,t){this.doList(e,t,!1)})),T.heading=r(t+"heading-button",c("heading"),"wmd-icon-font",g("doHeading")),T.hr=r(t+"hr-button",c("hr"),"wmd-icon-insert-template",g("doHorizontalRule")),a(3),T.undo=r(t+"undo-button",c("undo"),"wmd-icon-undo2",null),T.undo.execute=function(e){e&&e.undo()};var l=c(/win/.test(p.platform.toLowerCase())?"redo":"redomac");if(T.redo=r(t+"redo-button",l,"wmd-icon-redo2",null),T.redo.execute=function(e){e&&e.redo()},s){var d=document.createElement("i"),u=document.createElement("span");d.appendChild(u),d.className=t+"button "+t+"help-button wmd-icon-question",d.id=t+"help-button"+e,d.isHelp=!0,d.title=c("help"),d.onclick=s,f(d,!0),o.appendChild(d),T.help=d}v()}function v(){o&&(f(T.undo,o.canUndo()),f(T.redo,o.canRedo()))}var b=n.input,T={};m(t);var w="keydown";h.isOpera&&(w="keypress"),l.addEvent(b,w,function(e){if((e.ctrlKey||e.metaKey)&&!e.altKey&&!e.shiftKey){var t=e.charCode||e.keyCode,n=String.fromCharCode(t).toLowerCase();switch(n){case"b":d(T.bold);break;case"i":d(T.italic);break;case"l":d(T.link);break;case"q":d(T.quote);break;case"k":d(T.code);break;case"g":d(T.image);break;case"o":d(T.olist);break;case"u":d(T.ulist);break;case"h":d(T.heading);break;case"r":d(T.hr);break;case"y":d(T.redo);break;case"z":d(e.shiftKey?T.redo:T.undo);break;default:return}e.preventDefault&&e.preventDefault(),window.event&&(window.event.returnValue=!1)}}),l.addEvent(b,"keyup",function(e){if(e.shiftKey&&!e.ctrlKey&&!e.metaKey){var t=e.charCode||e.keyCode;if(13===t){var n={};n.textOp=g("doAutoindent"),d(n)}}}),h.isIE&&l.addEvent(b,"keydown",function(e){var t=e.keyCode;return 27===t?!1:void 0}),this.setUndoRedoButtonStates=v}function a(e,t){this.hooks=e,this.getString=t}function s(e){return e.replace(/^\s*(.*?)(?:\s+"(.+)")?\s*$/,function(e,t,n){return t=t.replace(/\?.*$/,function(e){return e.replace(/\+/g," ")}),t=decodeURIComponent(t),t=encodeURI(t).replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29"),t=t.replace(/\?.*$/,function(e){return e.replace(/\+/g,"%2b")}),n&&(n=n.trim?n.trim():n.replace(/^\s*/,"").replace(/\s*$/,""),n=n.replace(/"/g,"quot;").replace(/\(/g,"&#40;").replace(/\)/g,"&#41;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),n?t+' "'+n+'"':t})}var l={},c={},d={},u=window.document,f=window.RegExp,p=window.navigator,g={lineLength:72},h={isIE:/msie/.test(p.userAgent.toLowerCase()),isIE_5or6:/msie 6/.test(p.userAgent.toLowerCase())||/msie 5/.test(p.userAgent.toLowerCase()),isOpera:/opera/.test(p.userAgent.toLowerCase())},m={bold:"Strong <strong> Ctrl+B",boldexample:"strong text",italic:"Emphasis <em> Ctrl+I",italicexample:"emphasized text",link:"Hyperlink <a> Ctrl+L",linkdescription:"enter link description here",linkdialog:'<p><b>Insert Hyperlink</b></p><p>http://example.com/ "optional title"</p>',quote:"Blockquote <blockquote> Ctrl+Q",quoteexample:"Blockquote",code:"Code Sample <pre><code> Ctrl+K",codeexample:"enter code here",image:"Image <img> Ctrl+G",imagedescription:"enter image description here",imagedialog:"<p><b>Insert Image</b></p><p>http://example.com/images/diagram.jpg \"optional title\"<br><br>Need <a href='http://www.google.com/search?q=free+image+hosting' target='_blank'>free image hosting?</a></p>",olist:"Numbered List <ol> Ctrl+O",ulist:"Bulleted List <ul> Ctrl+U",litem:"List item",heading:"Heading <h1>/<h2> Ctrl+H",headingexample:"Heading",hr:"Horizontal Rule <hr> Ctrl+R",undo:"Undo - Ctrl+Z",redo:"Redo - Ctrl+Y",redomac:"Redo - Ctrl+Shift+Z",help:"Markdown Editing Help"},v="http://",b="http://";Markdown.Editor=function(e,i,s,l,c){c=c||{};var d=function(e){return c[e]||m[e]};i=i||"";var f=this.hooks=new Markdown.HookCollection;f.addNoop("onPreviewRefresh"),f.addNoop("postBlockquoteCreation"),f.addFalse("insertImageDialog"),this.getConverter=function(){return e};var p,g=this;this.run=function(){if(!p){p=new t(i,s);var c,h,m=new a(f,d),v=new o(e,p,function(){f.onPreviewRefresh()});/\?noundo/.test(u.location.href)||(c=new n(function(){v.refresh(),h&&h.setUndoRedoButtonStates()},p),this.textOperation=function(e){c.setCommandMode(),e(),g.refreshPreview()}),h=new r(i,s,p,c,v,m,l,d),h.setUndoRedoButtonStates();var b=g.refreshPreview=function(){v.refresh(!0)};b()}}},e.prototype.findTags=function(e,t){var n,i=this;e&&(n=l.extendRegExp(e,"","$"),this.before=this.before.replace(n,function(e){return i.startTag=i.startTag+e,""}),n=l.extendRegExp(e,"^",""),this.selection=this.selection.replace(n,function(e){return i.startTag=i.startTag+e,""})),t&&(n=l.extendRegExp(t,"","$"),this.selection=this.selection.replace(n,function(e){return i.endTag=e+i.endTag,""}),n=l.extendRegExp(t,"^",""),this.after=this.after.replace(n,function(e){return i.endTag=e+i.endTag,""}))},e.prototype.trimWhitespace=function(e){var t,n,i=this;e?t=n="":(t=function(e){return i.before+=e,""},n=function(e){return i.after=e+i.after,""}),this.selection=this.selection.replace(/^(\s*)/,t).replace(/(\s*)$/,n)},e.prototype.skipLines=function(e,t,n){void 0===e&&(e=1),void 0===t&&(t=1),e++,t++;var i,o;if(navigator.userAgent.match(/Chrome/)&&"X".match(/()./),this.selection=this.selection.replace(/(^\n*)/,""),this.startTag=this.startTag+f.$1,this.selection=this.selection.replace(/(\n*$)/,""),this.endTag=this.endTag+f.$1,this.startTag=this.startTag.replace(/(^\n*)/,""),this.before=this.before+f.$1,this.endTag=this.endTag.replace(/(\n*$)/,""),this.after=this.after+f.$1,this.before){for(i=o="";e--;)i+="\\n?",o+="\n";n&&(i="\\n*"),this.before=this.before.replace(new f(i+"$",""),o)}if(this.after){for(i=o="";t--;)i+="\\n?",o+="\n";n&&(i="\\n*"),this.after=this.after.replace(new f(i,""),o)}},l.isVisible=function(e){return window.getComputedStyle?"none"!==window.getComputedStyle(e,null).getPropertyValue("display"):e.currentStyle?"none"!==e.currentStyle.display:void 0},l.addEvent=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n,!1)},l.removeEvent=function(e,t,n){e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener(t,n,!1)},l.fixEolChars=function(e){return e=e.replace(/\r\n/g,"\n"),e=e.replace(/\r/g,"\n")},l.extendRegExp=function(e,t,n){(null===t||void 0===t)&&(t=""),(null===n||void 0===n)&&(n="");var i,o=e.toString();return o=o.replace(/\/([gim]*)$/,function(e,t){return i=t,""}),o=o.replace(/(^\/|\/$)/g,""),o=t+o+n,new f(o,i)},c.getTop=function(e,t){var n=e.offsetTop;if(!t)for(;e=e.offsetParent;)n+=e.offsetTop;return n},c.getHeight=function(e){return e.offsetHeight||e.scrollHeight},c.getWidth=function(e){return e.offsetWidth||e.scrollWidth},c.getPageSize=function(){var e,t,n,i;self.innerHeight&&self.scrollMaxY?(e=u.body.scrollWidth,t=self.innerHeight+self.scrollMaxY):u.body.scrollHeight>u.body.offsetHeight?(e=u.body.scrollWidth,t=u.body.scrollHeight):(e=u.body.offsetWidth,t=u.body.offsetHeight),self.innerHeight?(n=self.innerWidth,i=self.innerHeight):u.documentElement&&u.documentElement.clientHeight?(n=u.documentElement.clientWidth,i=u.documentElement.clientHeight):u.body&&(n=u.body.clientWidth,i=u.body.clientHeight);var o=Math.max(e,n),r=Math.max(t,i);return[o,r,n,i]},d.createBackground=function(){var e=u.createElement("div"),t=e.style;e.className="wmd-prompt-background",h.isIE&&(t.filter="alpha(opacity=50)");c.getPageSize();return h.isIE&&(t.left=u.documentElement.scrollLeft,t.width=u.documentElement.clientWidth),u.body.appendChild(e),e},d.prompt=function(e,t,n){var i,o;void 0===t&&(t="");var r=function(e){var t=e.charCode||e.keyCode;27===t&&a(!0)},a=function(e){l.removeEvent(u.body,"keydown",r);var t=o.value;return e?t=null:(t=t.replace(/^http:\/\/(https?|ftp):\/\//,"$1://"),/^(?:https?|ftp):\/\//.test(t)||(t="http://"+t)),i.parentNode.removeChild(i),n(t),!1},s=function(){i=u.createElement("div"),i.className="wmd-prompt-dialog";var n=u.createElement("div");n.innerHTML=e,i.appendChild(n);var s=u.createElement("form");s.onsubmit=function(){return a(!1)},i.appendChild(s),o=u.createElement("input"),o.type="text",o.value=t,s.appendChild(o);var d=u.createElement("input");d.type="button",d.onclick=function(){return a(!1)},d.value="OK";var f=u.createElement("input");f.type="button",f.onclick=function(){return a(!0)},f.value="Cancel",s.appendChild(d),s.appendChild(f),l.addEvent(u.body,"keydown",r),h.isIE_5or6&&(i.style.position="absolute",i.style.top=u.documentElement.scrollTop+200+"px",i.style.left="50%",i.style.marginTop=-(c.getHeight(i)/2)+"px",i.style.marginLeft=-(c.getWidth(i)/2)+"px"),u.body.appendChild(i)};setTimeout(function(){s();var e=t.length;if(void 0!==o.selectionStart)o.selectionStart=0,o.selectionEnd=e;else if(o.createTextRange){var n=o.createTextRange();n.collapse(!1),n.moveStart("character",-e),n.moveEnd("character",e),n.select()}o.focus()},0)};var T=a.prototype;T.prefixes="(?:\\s{4,}|\\s*>|\\s*-\\s+|\\s*\\d+\\.|=|\\+|-|_|\\*|#|\\s*\\[[^\n]]+\\]:)",T.unwrap=function(e){var t=new f("([^\\n])\\n(?!(\\n|"+this.prefixes+"))","g");e.selection=e.selection.replace(t,"$1 $2")},T.wrap=function(e,t){this.unwrap(e);var n=new f("(.{1,"+t+"})( +|$\\n?)","gm"),i=this;e.selection=e.selection.replace(n,function(e,t){return new f("^"+i.prefixes,"").test(e)?e:t+"\n"}),e.selection=e.selection.replace(/\s+$/,"")},T.doBold=function(e,t){return this.doBorI(e,t,2,this.getString("boldexample"))},T.doItalic=function(e,t){return this.doBorI(e,t,1,this.getString("italicexample"))},T.doBorI=function(e,t,n,i){e.trimWhitespace(),e.selection=e.selection.replace(/\n{2,}/g,"\n");var o=/(\**$)/.exec(e.before)[0],r=/(^\**)/.exec(e.after)[0],a=Math.min(o.length,r.length);if(a>=n&&(2!=a||1!=n))e.before=e.before.replace(f("[*]{"+n+"}$",""),""),e.after=e.after.replace(f("^[*]{"+n+"}",""),"");else if(!e.selection&&r){e.after=e.after.replace(/^([*_]*)/,""),e.before=e.before.replace(/(\s?)$/,"");var s=f.$1;e.before=e.before+r+s}else{e.selection||r||(e.selection=i);var l=1>=n?"*":"**";e.before=e.before+l,e.after=l+e.after}},T.stripLinkDefs=function(e,t){return e=e.replace(/^[ ]{0,3}\[(\d+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|$)/gm,function(e,n,i,o,r){return t[n]=e.replace(/\s*$/,""),o?(t[n]=e.replace(/["(](.+?)[")]$/,""),o+r):""})},T.addLinkDef=function(e,t){var n=0,i={};e.before=this.stripLinkDefs(e.before,i),e.selection=this.stripLinkDefs(e.selection,i),e.after=this.stripLinkDefs(e.after,i);var o="",r=/(\[)((?:\[[^\]]*\]|[^\[\]])*)(\][ ]?(?:\n[ ]*)?\[)(\d+)(\])/g,a=function(e){n++,e=e.replace(/^[ ]{0,3}\[(\d+)\]:/,"  ["+n+"]:"),o+="\n"+e},s=function(e,t,o,l,c,d){return o=o.replace(r,s),i[c]?(a(i[c]),t+o+l+n+d):e};e.before=e.before.replace(r,s),t?a(t):e.selection=e.selection.replace(r,s);var l=n;return e.after=e.after.replace(r,s),e.after&&(e.after=e.after.replace(/\n*$/,"")),e.after||(e.selection=e.selection.replace(/\n*$/,"")),e.after+="\n\n"+o,l},T.doLinkOrImage=function(e,t,n){e.trimWhitespace(),e.findTags(/\s*!?\[/,/\][ ]?(?:\n[ ]*)?(\[.*?\])?/);var i;if(!(e.endTag.length>1&&e.startTag.length>0)){if(e.selection=e.startTag+e.selection+e.endTag,e.startTag=e.endTag="",/\n\n/.test(e.selection))return void this.addLinkDef(e,null);var o=this,r=function(r){if(i.parentNode.removeChild(i),null!==r){e.selection=(" "+e.selection).replace(/([^\\](?:\\\\)*)(?=[[\]])/g,"$1\\").substr(1);var a=" [999]: "+s(r),l=o.addLinkDef(e,a);e.startTag=n?"![":"[",e.endTag="]["+l+"]",e.selection||(e.selection=o.getString(n?"imagedescription":"linkdescription"))}t()};return i=d.createBackground(),n?this.hooks.insertImageDialog(r)||d.prompt(this.getString("imagedialog"),v,r):d.prompt(this.getString("linkdialog"),b,r),!0}e.startTag=e.startTag.replace(/!?\[/,""),e.endTag="",this.addLinkDef(e,null)},T.doAutoindent=function(e){var t=this,n=!1;e.before=e.before.replace(/(\n|^)[ ]{0,3}([*+-]|\d+[.])[ \t]*\n$/,"\n\n"),e.before=e.before.replace(/(\n|^)[ ]{0,3}>[ \t]*\n$/,"\n\n"),e.before=e.before.replace(/(\n|^)[ \t]+\n$/,"\n\n"),e.selection||/^[ \t]*(?:\n|$)/.test(e.after)||(e.after=e.after.replace(/^[^\n]*/,function(t){return e.selection=t,""}),n=!0),/(\n|^)[ ]{0,3}([*+-]|\d+[.])[ \t]+.*\n$/.test(e.before)&&t.doList&&t.doList(e),/(\n|^)[ ]{0,3}>[ \t]+.*\n$/.test(e.before)&&t.doBlockquote&&t.doBlockquote(e),/(\n|^)(\t|[ ]{4,}).*\n$/.test(e.before)&&t.doCode&&t.doCode(e),n&&(e.after=e.selection+e.after,e.selection="")},T.doBlockquote=function(e){e.selection=e.selection.replace(/^(\n*)([^\r]+?)(\n*)$/,function(t,n,i,o){return e.before+=n,e.after=o+e.after,i}),e.before=e.before.replace(/(>[ \t]*)$/,function(t,n){return e.selection=n+e.selection,""}),e.selection=e.selection.replace(/^(\s|>)+$/,""),e.selection=e.selection||this.getString("quoteexample");var t,n="",i="";if(e.before){for(var o=e.before.replace(/\n$/,"").split("\n"),r=!1,a=0;a<o.length;a++){var s=!1;t=o[a],r=r&&t.length>0,/^>/.test(t)?(s=!0,!r&&t.length>1&&(r=!0)):s=/^[ \t]*$/.test(t)?!0:r,s?n+=t+"\n":(i+=n+t,n="\n")}/(^|\n)>/.test(n)||(i+=n,n="")}e.startTag=n,e.before=i,e.after&&(e.after=e.after.replace(/^\n?/,"\n")),e.after=e.after.replace(/^(((\n|^)(\n[ \t]*)*>(.+\n)*.*)+(\n[ \t]*)*)/,function(t){return e.endTag=t,""});var l=function(t){var n=t?"> ":"";e.startTag&&(e.startTag=e.startTag.replace(/\n((>|\s)*)\n$/,function(e,t){return"\n"+t.replace(/^[ ]{0,3}>?[ \t]*$/gm,n)+"\n"})),e.endTag&&(e.endTag=e.endTag.replace(/^\n((>|\s)*)\n/,function(e,t){return"\n"+t.replace(/^[ ]{0,3}>?[ \t]*$/gm,n)+"\n"}))};/^(?![ ]{0,3}>)/m.test(e.selection)?(this.wrap(e,g.lineLength-2),e.selection=e.selection.replace(/^/gm,"> "),l(!0),e.skipLines()):(e.selection=e.selection.replace(/^[ ]{0,3}> ?/gm,""),this.unwrap(e),l(!1),!/^(\n|^)[ ]{0,3}>/.test(e.selection)&&e.startTag&&(e.startTag=e.startTag.replace(/\n{0,2}$/,"\n\n")),!/(\n|^)[ ]{0,3}>.*$/.test(e.selection)&&e.endTag&&(e.endTag=e.endTag.replace(/^\n{0,2}/,"\n\n"))),e.selection=this.hooks.postBlockquoteCreation(e.selection),/\n/.test(e.selection)||(e.selection=e.selection.replace(/^(> *)/,function(t,n){return e.startTag+=n,""}))},T.doCode=function(e){var t=/\S[ ]*$/.test(e.before),n=/^[ ]*\S/.test(e.after);if(!n&&!t||/\n/.test(e.selection)){e.before=e.before.replace(/[ ]{4}$/,function(t){return e.selection=t+e.selection,""});var i=1,o=1;/(\n|^)(\t|[ ]{4,}).*\n$/.test(e.before)&&(i=0),/^\n(\t|[ ]{4,})/.test(e.after)&&(o=0),e.skipLines(i,o),e.selection?/^[ ]{0,3}\S/m.test(e.selection)?/\n/.test(e.selection)?e.selection=e.selection.replace(/^/gm,"    "):e.before+="    ":e.selection=e.selection.replace(/^(?:[ ]{4}|[ ]{0,3}\t)/gm,""):(e.startTag="    ",e.selection=this.getString("codeexample"))}else e.trimWhitespace(),e.findTags(/`/,/`/),e.startTag||e.endTag?e.endTag&&!e.startTag?(e.before+=e.endTag,e.endTag=""):e.startTag=e.endTag="":(e.startTag=e.endTag="`",e.selection||(e.selection=this.getString("codeexample")))},T.doList=function(e,t,n){var i=/(\n|^)(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*$/,o=/^\n*(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*/,r="-",a=1,s=function(){var e;return n?(e=" "+a+". ",a++):e=" "+r+" ",e},l=function(e){return void 0===n&&(n=/^\s*\d/.test(e)),e=e.replace(/^[ ]{0,3}([*+-]|\d+[.])\s/gm,function(){return s()})};if(e.findTags(/(\n|^)*[ ]{0,3}([*+-]|\d+[.])\s+/,null),!e.before||/\n$/.test(e.before)||/^\n/.test(e.startTag)||(e.before+=e.startTag,e.startTag=""),e.startTag){var c=/\d+[.]/.test(e.startTag);if(e.startTag="",e.selection=e.selection.replace(/\n[ ]{4}/g,"\n"),this.unwrap(e),e.skipLines(),c&&(e.after=e.after.replace(o,l)),n==c)return}var d=1;e.before=e.before.replace(i,function(e){return/^\s*([*+-])/.test(e)&&(r=f.$1),d=/[^\n]\n\n[^\n]/.test(e)?1:0,l(e)}),e.selection||(e.selection=this.getString("litem"));var u=s(),p=1;e.after=e.after.replace(o,function(e){return p=/[^\n]\n\n[^\n]/.test(e)?1:0,l(e)}),e.trimWhitespace(!0),e.skipLines(d,p,!0),e.startTag=u;var h=u.replace(/./g," ");this.wrap(e,g.lineLength-h.length),e.selection=e.selection.replace(/\n/g,"\n"+h)},T.doHeading=function(e){if(e.selection=e.selection.replace(/\s+/g," "),e.selection=e.selection.replace(/(^\s+|\s+$)/g,""),!e.selection)return e.startTag="## ",e.selection=this.getString("headingexample"),void(e.endTag=" ##");var t=0;e.findTags(/#+[ ]*/,/[ ]*#+/),/#+/.test(e.startTag)&&(t=f.lastMatch.length),e.startTag=e.endTag="",e.findTags(null,/\s?(-+|=+)/),/=+/.test(e.endTag)&&(t=1),/-+/.test(e.endTag)&&(t=2),e.startTag=e.endTag="",e.skipLines(1,1);var n=0==t?2:t-1;if(n>0){var i=n>=2?"-":"=",o=e.selection.length;for(o>g.lineLength&&(o=g.lineLength),e.endTag="\n";o--;)e.endTag+=i}},T.doHorizontalRule=function(e){e.startTag="----------\n",e.selection="",e.skipLines(2,1,!0)}}();
!function(){function r(r){return r.replace(/<[^>]*>?/gi,t)}function t(r){return r.match(i)||r.match(s)||r.match(a)?r:""}function e(r){if(""==r)return"";var t=/<\/?\w+[^>]*(\s|$|>)/g,e=r.toLowerCase().match(t),n=(e||[]).length;if(0==n)return r;for(var o,i,s,a="<p><img><br><li><hr>",c=[],h=[],u=!1,f=0;n>f;f++)if(o=e[f].replace(/<\/?(\w+).*/,"$1"),!(c[f]||a.search("<"+o+">")>-1)){if(i=e[f],s=-1,!/^<\//.test(i))for(var p=f+1;n>p;p++)if(!c[p]&&e[p]=="</"+o+">"){s=p;break}-1==s?u=h[f]=!0:c[s]=!0}if(!u)return r;var f=0;return r=r.replace(t,function(r){var t=h[f]?"":r;return f++,t})}var n,o;"object"==typeof exports&&"function"==typeof require?(n=exports,o=require("./Markdown.Converter").Converter):(n=window.Markdown,o=n.Converter),n.getSanitizingConverter=function(){var t=new o;return t.hooks.chain("postConversion",r),t.hooks.chain("postConversion",e),t};var i=/^(<\/?(b|blockquote|code|del|dd|dl|dt|em|h1|h2|h3|i|kbd|li|ol|p|pre|s|sup|sub|strong|strike|ul)>|<(br|hr)\s?\/?>)$/i,s=/^(<a\shref="((https?|ftp):\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\stitle="[^"<>]+")?\s?>|<\/a>)$/i,a=/^(<img\ssrc="(https?:\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\swidth="\d{1,3}")?(\sheight="\d{1,3}")?(\salt="[^"<>]*")?(\stitle="[^"<>]*")?\s?\/?>)$/i}();
"use strict";angular.module("ngMarkdown",[]).directive("ngMarkdown",['$timeout', function(o){return{template:"<textarea ng-model='content'></textarea>",restrict:"E",replace:!0,scope:{preConversion:"=",postConversion:"=",postNormalization:"=",plainLinkText:"=",preBlockGamut:"=",postBlockGamut:"=",preSpanGamut:"=",postSpanGamut:"=",onPreviewRefresh:"=",helpHandler:"=",customStrings:"=",content:"="},link:function(n,e,t){o(function(){var o=Markdown.getSanitizingConverter(),a="",i="wmd-",r=null,s={};"false"===t.sanitized&&(o=new Markdown.Converter),t.postfix&&(a=t.postfix),t.prefix&&(i=t.prefix),t.preConversion&&o.hooks.chain("preConversion",n.preConversion),t.postConversion&&o.hooks.chain("postConversion",n.postConversion),t.postNormalization&&o.hooks.chain("postNormalization",n.postNormalization),t.plainLinkText&&o.hooks.chain("plainLinkText",n.plainLinkText),t.preBlockGamut&&o.hooks.chain("preBlockGamut",n.preBlockGamut),t.postBlockGamut&&o.hooks.chain("postBlockGamut",n.postBlockGamut),t.preSpanGamut&&o.hooks.chain("preSpanGamut",n.preSpanGamut),t.postSpanGamut&&o.hooks.chain("postSpanGamut",n.postSpanGamut),t.onPreviewRefresh&&p.hooks.chain("onPreviewRefresh",n.onPreviewRefresh),t.postBlockquoteCreation&&p.hooks.chain("postBlockquoteCreation",n.postBlockquoteCreation),t.insertImageDialog&&p.hooks.set("insertImageDialog",n.insertImageDialog),t.helpHandler&&(r=n.helpHandler),t.customStrings&&(s=n.customStrings),e.addClass(i+"input"+a);var p=new Markdown.Editor(o,a,i,r,s);p.run()},0)}}}]);
